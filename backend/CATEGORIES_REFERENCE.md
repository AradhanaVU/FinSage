# Transaction Categories Reference

This document lists all available categories for income and expense transactions in FinSage.

## Income Categories

### Income
- **Keywords**: salary, payroll, paycheck, wage, income, deposit, transfer in, direct deposit, bonus, commission, freelance, contractor, dividend, interest income, refund, reimbursement, gift received, allowance, pension, social security, unemployment
- **Examples**: "Direct Deposit - Salary", "Payroll Payment", "Tax Refund", "Reimbursement"

### Investment Income
- **Keywords**: dividend, capital gains, investment return, stock dividend, bond interest, mutual fund, etf, roi, return on investment
- **Examples**: "Stock Dividend", "Capital Gains Distribution", "Investment Return"

## Expense Categories

### Housing
- **Keywords**: rent, mortgage, housing, apartment, lease, landlord, property management, homeowners, hoa, homeowners association, condo fee, maintenance fee
- **Examples**: "Monthly Rent", "Mortgage Payment", "HOA Fee"

### Bills & Utilities
- **Keywords**: electric, electricity, power, water, sewer, gas bill, natural gas, internet, wifi, phone, telephone, cell phone, mobile, utility, cable, tv, television, trash, garbage, recycling, heating, cooling, ac, air conditioning
- **Examples**: "Electric Bill", "Internet Service", "Water Utility", "Phone Bill"

### Food & Dining
- **Keywords**: restaurant, cafe, food, dining, pizza, burger, coffee, starbucks, mcdonald, mcdonalds, uber eats, doordash, grubhub, postmates, delivery, takeout, fast food, diner, bar, pub, brewery, bistro, brunch, lunch, dinner, breakfast, catering, food truck
- **Examples**: "Starbucks Coffee", "Restaurant Dinner", "Uber Eats Delivery"

### Groceries
- **Keywords**: grocery, supermarket, walmart, target, kroger, safeway, whole foods, trader joe, aldi, costco, sam's club, wegmans, publix, food lion, harris teeter, stop & shop, giant, shoprite, heb, food market, grocery store
- **Examples**: "Walmart Groceries", "Whole Foods Market", "Costco Shopping"

### Transportation
- **Keywords**: gas, fuel, gasoline, petrol, uber, lyft, taxi, cab, parking, metro, subway, bus, train, airline, flight, airport, transit, public transport, rideshare, ride share, car rental, rental car, toll, toll road, ez pass, maintenance, car repair, auto repair, oil change, tire, registration, dmv
- **Examples**: "Gas Station", "Uber Ride", "Parking Fee", "Car Repair"

### Shopping
- **Keywords**: amazon, store, shop, retail, clothing, apparel, mall, department store, nordstrom, macy's, target, walmart, best buy, home depot, lowes, ikea, furniture, electronics, appliance, home goods, decor, bed bath, bed bath & beyond
- **Examples**: "Amazon Purchase", "Target Shopping", "Best Buy Electronics"

### Entertainment
- **Keywords**: movie, cinema, theater, theatre, netflix, spotify, streaming, concert, show, game, video game, gaming, arcade, bowling, mini golf, amusement, theme park, disney, universal, ticket, event, festival, sports event
- **Examples**: "Movie Tickets", "Netflix Subscription", "Concert Tickets"

### Subscriptions
- **Keywords**: subscription, monthly, annual, premium, membership, netflix, spotify, apple music, hulu, disney+, disney plus, amazon prime, youtube premium, gym membership, fitness, magazine, newspaper, software subscription, saas
- **Examples**: "Netflix Monthly", "Gym Membership", "Spotify Premium"

### Healthcare
- **Keywords**: pharmacy, hospital, doctor, medical, drug, cvs, walgreens, clinic, urgent care, emergency room, er, dentist, dental, optometrist, eye doctor, prescription, medication, medicine, health insurance, copay, co-pay, lab test, x-ray, mri, surgery, therapy, physical therapy
- **Examples**: "CVS Pharmacy", "Doctor Visit", "Dental Checkup", "Prescription"

### Fitness & Wellness
- **Keywords**: gym, fitness, yoga, pilates, personal trainer, fitness class, workout, spa, massage, salon, haircut, barber, nail, manicure, pedicure
- **Examples**: "Gym Membership", "Haircut", "Massage", "Yoga Class"

### Personal Care
- **Keywords**: pharmacy, cvs, walgreens, rite aid, drugstore, cosmetics, makeup, skincare, beauty, personal care, toiletries, shampoo, soap, deodorant
- **Examples**: "CVS Personal Care", "Beauty Products", "Toiletries"

### Education
- **Keywords**: school, university, college, tuition, course, book, textbook, education, student loan, student debt, tuition payment, course fee, registration fee, online course, certification, training, workshop, seminar
- **Examples**: "Tuition Payment", "Textbook Purchase", "Online Course"

### Insurance
- **Keywords**: insurance, premium, health insurance, car insurance, auto insurance, home insurance, renters insurance, life insurance, disability insurance, geico, state farm, allstate, progressive, usaa
- **Examples**: "Car Insurance Premium", "Health Insurance", "Geico Payment"

### Banking & Fees
- **Keywords**: fee, bank fee, atm fee, overdraft, service charge, maintenance fee, transaction fee, wire transfer, foreign transaction, late fee, penalty, interest charge, finance charge, annual fee
- **Examples**: "ATM Fee", "Overdraft Fee", "Bank Service Charge"

### Investments
- **Keywords**: investment, stock, bond, mutual fund, etf, 401k, ira, roth ira, retirement, brokerage, robinhood, fidelity, vanguard, charles schwab, trade, buy stock, sell stock, contribution
- **Examples**: "401k Contribution", "Stock Purchase", "IRA Contribution"

### Debt & Loans
- **Keywords**: loan, payment, credit card, pay off, debt, mortgage payment, car loan, auto loan, student loan payment, personal loan, payday loan, credit card payment, minimum payment, principal, interest payment
- **Examples**: "Credit Card Payment", "Student Loan Payment", "Car Loan Payment"

### Travel
- **Keywords**: hotel, airbnb, booking, flight, airline, airport, travel, vacation, trip, cruise, resort, car rental, rental car, travel agency, expedia, priceline, kayak, booking.com, luggage, passport, visa
- **Examples**: "Hotel Booking", "Flight Ticket", "Airbnb Rental", "Car Rental"

### Gifts & Donations
- **Keywords**: gift, donation, charity, charitable, nonprofit, ngo, fundraiser, go fund me, gofundme, kickstarter, patreon, tip, gratuity
- **Examples**: "Charity Donation", "Birthday Gift", "Restaurant Tip"

### Business Expenses
- **Keywords**: business, office, supplies, equipment, software, advertising, marketing, professional, consulting, legal, lawyer, attorney, accountant, cpa, conference, business trip, client, contractor, freelancer
- **Examples**: "Office Supplies", "Legal Fees", "Business Conference", "Marketing Services"

### Kids & Family
- **Keywords**: childcare, daycare, babysitter, nanny, school supplies, toy, toys, baby, infant, diaper, formula, stroller, car seat, children, kids
- **Examples**: "Daycare Payment", "Baby Supplies", "School Supplies"

### Pets
- **Keywords**: pet, dog, cat, veterinary, vet, pet store, petco, petsmart, pet food, pet supplies, grooming, pet grooming
- **Examples**: "Pet Food", "Veterinary Visit", "Pet Grooming"

### Taxes
- **Keywords**: tax, irs, federal tax, state tax, property tax, sales tax, income tax, tax payment, tax refund, withholding
- **Examples**: "Federal Tax Payment", "Property Tax", "State Tax"

### Other
- **Default category** for transactions that don't match any specific category

## Subcategories

Transactions can also have subcategories for additional classification:

- **Recurring**: Monthly subscriptions, auto-pay bills, recurring payments
- **Online**: Digital purchases, online services, app purchases
- **Cash**: ATM withdrawals, cash transactions
- **In-Person**: Physical store purchases, in-store transactions

## Categorization Features

### NLP-Enhanced Matching
- Uses spaCy for lemmatization (e.g., "purchased" â†’ "purchase")
- Named Entity Recognition for merchants and locations
- Word similarity matching for typos and variations
- POS tagging for better context understanding

### Weighted Scoring
- Categories have different weights based on importance
- Multiple matching methods increase confidence
- Exact matches get higher scores than partial matches

### Transaction Type Awareness
- Income categories only match income transactions
- Expense categories only match expense transactions
- Prevents misclassification (e.g., "salary" won't be categorized as "Shopping")

### Confidence Scores
- Range from 0.0 to 1.0
- Higher scores indicate more confident categorization
- Scores below 0.3 may need manual review

## Usage

The categorizer automatically categorizes transactions when they are created. You can also:

1. **Manual Override**: Users can manually change categories if needed
2. **Batch Processing**: Multiple transactions can be categorized at once
3. **Re-categorization**: Transactions are re-categorized if description changes

## Adding New Categories

To add new categories, edit `backend/app/ai/categorizer.py` and add entries to the `category_keywords` dictionary with:
- `keywords`: List of relevant keywords
- `patterns`: List of regex patterns
- `weight`: Importance weight (default 1.0)
- `transaction_types`: List of applicable transaction types (["expense"], ["income"], or both)

